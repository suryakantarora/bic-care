<ion-header mode="md" class="ion-no-border">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>{{'FUND_TRANSFER' | translate}}</ion-title>
  </ion-toolbar>
  <ion-toolbar color="primary" mode="md">
    <ion-card class="default-acc">
      <ion-item color="primary" lines="none" button detail="false" *ngIf="!fromAccDetail.accountNo">
        <ion-thumbnail slot="start"> <ion-skeleton-text [animated]="true"></ion-skeleton-text></ion-thumbnail>
        <ion-label> <ion-skeleton-text [animated]="true" *ngFor="let i of [1,2,3,4]"></ion-skeleton-text> </ion-label>
      </ion-item>
      <ion-item color="primary" lines="none" button detail="false" (click)="selectFromAccount()" *ngIf="fromAccDetail.accountNo">
        <ion-thumbnail slot="start">
          <ion-img src="assets/imgs/logo.png"></ion-img>
        </ion-thumbnail>
        <ion-label>
          <p>{{accType | translate}} - {{getCurrency(fromAccDetail.accountCCY)}}</p>
          <h2>{{maskAcc(fromAccDetail.accountNo)}} </h2>
          <ion-chip color="secondary" class="balance">
            {{getCurrency(fromAccDetail.accountCCY)}} 
            {{maskBalance(accountBalance)}}
          </ion-chip>
        </ion-label>
        <ion-buttons slot="end">
          <ion-button>
            <ion-icon slot="icon-only" name="chevron-down-outline"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-item>
    </ion-card>
  </ion-toolbar>
  <ion-toolbar mode="md" class="custom-segment" color="primary">
    <ion-segment [(ngModel)]="transferType" mode="ios">
      <ion-segment-button value="OWN" class="ion-text-capitalize" [ngClass]="transferType==='OWN'?'active':''">{{'TO_OWN_ACC' | translate}}</ion-segment-button>
      <ion-segment-button value="BIC" class="ion-text-capitalize" [ngClass]="transferType==='BIC'?'active':''">{{'TO_BIC_ACC' | translate}}</ion-segment-button>
    </ion-segment>
  </ion-toolbar>
  <ion-item-divider lines="full" mode="md" color="light">
    <ion-label class="ion-text-center ion-text-wrap">{{transferType==='OWN'?('OWN_ACC_TRANSFER' | translate):'BIC_TO_BIC_TRANSFER' | translate}}</ion-label>
  </ion-item-divider>
</ion-header>

<ion-content mode="md" class="ion-padding-top">
  <div [ngSwitch]="transferType">
    <div *ngSwitchCase="'OWN'">
      <app-own-acc-transfer [fromAccDetail]="fromAccDetail" [accList]="accList" [exchangeRate]="exchangeRate"></app-own-acc-transfer>        
    </div>
    <div *ngSwitchCase="'BIC'">
      <app-bic-acc-transfer [fromAccDetail]="fromAccDetail" [accList]="accList" [exchangeRate]="exchangeRate"></app-bic-acc-transfer>
    </div>
  </div>
</ion-content>